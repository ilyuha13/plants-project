# CLAUDE.md

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è Claude Code (claude.ai/code) –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –ø—Ä–æ–¥–∞–∂–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π, —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–µ –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Å –ø–ª–∞–Ω–∞–º–∏ –≤—ã—Ö–æ–¥–∞ –≤ production. –í–ª–∞–¥–µ–ª–µ—Ü –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–æ–¥–∞–∂–µ–π —Ä–∞—Å—Ç–µ–Ω–∏–π –∏ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–∞–±–æ—á–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø—Ä–æ–¥–∞–∂.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- **Monorepo**: pnpm workspaces —Å –¥–≤—É–º—è –ø–∞–∫–µ—Ç–∞–º–∏: `backend` –∏ `webapp`
- **Backend**: Express.js + tRPC + Prisma + PostgreSQL + Passport JWT
- **Frontend**: React 19 + TypeScript + Vite + Material UI + React Router 7 + TanStack Query
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º**: MobX + React Context
- **–§–æ—Ä–º—ã**: Formik + –≤–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod
- **–†–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏**: Sharp (backend), react-image-crop (frontend)

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö–æ—Ä–Ω–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å (Monorepo)
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å backend –∏ frontend –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
pnpm dev

# –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥ backend
pnpm b <command>

# –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥ webapp
pnpm w <command>

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–ª—è –æ–±–æ–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
pnpm types

# –õ–∏–Ω—Ç–∏–Ω–≥ –æ–±–æ–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
pnpm lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –æ–±–æ–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö
pnpm prettify
```

### Backend (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `backend/`)
```bash
# –°–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π
pnpm dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è production
pnpm build

# –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
pnpm start

# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π Prisma –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
pnpm pmd

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma client (–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ prepare)
pnpm pgc

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
pnpm types

# –õ–∏–Ω—Ç–∏–Ω–≥ TypeScript —Ñ–∞–π–ª–æ–≤
pnpm lint

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
pnpm prettify
```

**–í–∞–∂–Ω–æ:** Prisma schema –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É `backend/src/prisma/schema.prisma` (–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤ package.json).

### Frontend (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `webapp/`)
```bash
# –°–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å HMR
pnpm dev

# Production —Å–±–æ—Ä–∫–∞ (–≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤)
pnpm build

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏
pnpm preview

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤—Å–µ—Ö TypeScript —Ñ–∞–π–ª–æ–≤
pnpm types

# –õ–∏–Ω—Ç–∏–Ω–≥ TypeScript/TSX —Ñ–∞–π–ª–æ–≤
pnpm lint

# –õ–∏–Ω—Ç–∏–Ω–≥ SCSS —Ñ–∞–π–ª–æ–≤
pnpm stylelint

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ SCSS
pnpm stylecheck

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
pnpm prettify
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Prisma)

–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π:
1. **Species** (—Ä–æ–¥) - –Ω–∞–ø—Ä–∏–º–µ—Ä, Monstera, Philodendron, Aglaonema
2. **Variety** (—Å–æ—Ä—Ç) - –∏–º–µ–µ—Ç `lifeForm` (–ª–∏–∞–Ω–∞, –¥–µ—Ä–µ–≤–æ, –∫—É—Å—Ç–∞—Ä–Ω–∏–∫) –∏ `variegation` (–≤–∞—Ä–∏–µ–≥–∞—Ç–Ω–æ—Å—Ç—å)
3. **Plant** (—ç–∫–∑–µ–º–ø–ª—è—Ä) - –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Å —Ü–µ–Ω–æ–π

**–°–≤—è–∑–∏:**
- Species ‚Üí –∏–º–µ–µ—Ç –º–Ω–æ–≥–æ Varieties
- Variety ‚Üí –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç Species, –∏–º–µ–µ—Ç –º–Ω–æ–≥–æ Plants
- Plant ‚Üí –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç Variety

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–µ—é—Ç —Ä–æ–ª–∏: `ADMIN` –∏–ª–∏ `USER`
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ cookies

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Backend

**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** `backend/src/index.ts`
- Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º CORS
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Ä–∞–∑–¥–∞—é—Ç—Å—è –∏–∑ `backend/public/` (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- Middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ Passport JWT
- tRPC router —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ –∞–¥—Ä–µ—Å—É `/trpc`

**tRPC Routes:** (`backend/src/router/`)
- `signIn` / `signUp` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `getMe` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `addSpecies` / `getSpecies` / `getSpeciesById` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∞–º–∏
- `addVarieties` - –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∞ –∫ —Ä–æ–¥—É
- `addPlant` / `getPlant` / `getPlants` / `updatePlant` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π

**–ü–∞—Ç—Ç–µ—Ä–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã routes:**
```
backend/src/router/
  <routeName>/
    index.ts   - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ tRPC route
    input.ts   - Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

**Context:** `backend/src/lib/ctx.ts` —Å–æ–∑–¥–∞–µ—Ç AppContext —Å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º Prisma client.

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ base64 —Å—Ç—Ä–æ–∫–∏
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `backend/public/images/` —Å –ø–æ–º–æ—â—å—é Sharp
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è URL –≤–∏–¥–∞ `/images/<filename>`

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Frontend

**–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** `webapp/src/main.tsx` ‚Üí –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç `App` –≤ `Providers`

**–°—Ç–µ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:** (`webapp/src/Providers.tsx`)
1. TrpcProvider (tRPC + TanStack Query)
2. AppContextProvider (—Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
3. ThemeProvider (—Ç–µ–º–∞ Material UI)
4. BrowserRouter (React Router)

**–†–æ—É—Ç–∏–Ω–≥:** `webapp/src/App.tsx`
- Layout –æ–±–µ—Ä—Ç–∫–∞ —Å Header/Footer –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ä–æ—É—Ç–æ–≤
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ—É—Ç—ã: PlantsList (–≥–ª–∞–≤–Ω–∞—è), SignIn, SignUp, SignOut, AddSpeciesPage
- –ú–Ω–æ–≥–∏–µ —Ä–æ—É—Ç—ã –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è tRPC:** (`webapp/src/lib/trpc.tsx`)
- React —Ö—É–∫–∏ —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ `createTRPCReact<TrpcRouter>()`
- –¢–∏–ø—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ backend: `@plants-project/backend/src/router`
- JWT —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ cookies –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- SuperJSON —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Date/Map/Set

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:**
- –°–æ—Å—Ç–æ—è–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `webapp/src/lib/ctx.tsx` (Context API)
- –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ TanStack Query (—á–µ—Ä–µ–∑ tRPC)

**–ü–∞—Ç—Ç–µ—Ä–Ω —Ñ–æ—Ä–º:**
- Formik –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–æ—Ä–º
- Zod —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `formik-validator-zod`)
- –û–±—â–∞—è –æ–±–µ—Ä—Ç–∫–∞ —Ñ–æ—Ä–º: `webapp/src/lib/form.tsx`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
- `ImageInput` - –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
- `ImageInput2` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `ImagesInput` - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `ImagesInputWithCrop` - –ó–∞–≥—Ä—É–∑–∫–∞ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –æ–±—Ä–µ–∑–∫–∏
- `ImageEditor` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–µ–∑–∫–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º react-image-crop

**–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Material UI –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `webapp/src/components/`
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `webapp/src/pages/`
- Layout –æ–±–µ—Ä—Ç–∫–∞ –≤ `webapp/src/layout/Layout.tsx`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Backend** (`.env` –≤ `backend/`):
- `PORT` - –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- `DATABASE_URL` - –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `JWT_SECRET` - –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
- `PASSWORD_SALT` - –°–æ–ª—å –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

**Frontend** (`.env` –≤ `webapp/`):
- `VITE_BACKEND_TRPC_URL` - –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ tRPC (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://localhost:3000/trpc`)
- `VITE_BACKEND_URL` - –ë–∞–∑–æ–≤—ã–π URL –±—ç–∫–µ–Ω–¥–∞ –¥–ª—è URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Zod —Å—Ö–µ–º –≤ `src/lib/env.ts` (–æ–±–∞ –ø–∞–∫–µ—Ç–∞).

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```bash
   # –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ - –∑–∞–ø—É—Å–∫–∞–µ—Ç backend –∏ frontend
   pnpm dev
   ```

2. **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   # –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ backend/src/prisma/schema.prisma
   # –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
   cd backend
   pnpm pmd
   # –î–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –∏–º—è
   ```

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ tRPC Routes:**
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –≤ `backend/src/router/<routeName>/`
   - –î–æ–±–∞–≤—å—Ç–µ `index.ts` (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ route) –∏ `input.ts` (Zod —Å—Ö–µ–º—ã)
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏–∑ `backend/src/router/index.ts` (—Å–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ @index –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞)
   - –¢–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ frontend —á–µ—Ä–µ–∑ `trpc.routeName.useQuery()` –∏–ª–∏ `trpc.routeName.useMutation()`

4. **–ü–∞—Ç—Ç–µ—Ä–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
   - Frontend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ base64
   - Backend –ø–æ–ª—É—á–∞–µ—Ç base64, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å –ø–æ–º–æ—â—å—é Sharp –≤ `backend/public/images/`
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π URL –ø—É—Ç—å `/images/<filename>`
   - Frontend –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç, –¥–æ–±–∞–≤–ª—è—è –ø—Ä–µ—Ñ–∏–∫—Å `VITE_BACKEND_URL`

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç:** –í–ª–∞–¥–µ–ª–µ—Ü –∏–∑—É—á–∞–µ—Ç –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Å –ø–ª–∞–Ω–∞–º–∏ —É—Å—Ç—Ä–æ–∏—Ç—å—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è —Ü–µ–ª–µ–π –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.

- **–†–µ–∞–ª—å–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å:** –≠—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ –ø–æ –ø—Ä–æ–¥–∞–∂–µ —Ä–∞—Å—Ç–µ–Ω–∏–π, –ø–æ—ç—Ç–æ–º—É –¥–æ–ª–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å production –∫–∞—á–µ—Å—Ç–≤–∞.

- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω—ã–π TypeScript type inference –æ—Ç backend –∫ frontend —á–µ—Ä–µ–∑ tRPC. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —ç—Ç—É —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Monorepo:** Backend –∏ frontend –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–µ–µ workspace. –¢–∏–ø—ã backend –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤–æ frontend package.json –∫–∞–∫ `"@plants-project/backend": "workspace:*"`.

- **–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:**
  - Prisma schema: `backend/src/prisma/schema.prisma` (–Ω–µ –≤ –∫–æ—Ä–Ω–µ)
  - –ú–∏–≥—Ä–∞—Ü–∏–∏: `backend/src/prisma/migrations/`

- **Git Hooks:** Husky –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å lint-staged –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

- **–°—Ç–∏–ª—å –∫–æ–¥–∞:** –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã Prettier –∏ ESLint. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `pnpm prettify` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

- **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫:** –¢–µ–∫—Å—Ç UI –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (—Ä–æ–¥–Ω–æ–π —è–∑—ã–∫ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏ —Ü–µ–ª–µ–≤–æ–π —Ä—ã–Ω–æ–∫).

## –°—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã Claude

**–í–ê–ñ–ù–û:** –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º Claude –¥–æ–ª–∂–µ–Ω:

1. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏):**
   ```
   üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–∏:
   - –¢–æ–∫–µ–Ω—ã: X,XXX / 200,000 (XX% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ)
   - –û—Å—Ç–∞–ª–æ—Å—å: XXX,XXX —Ç–æ–∫–µ–Ω–æ–≤
   - –°—Ç–∞—Ç—É—Å: üü¢ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ | üü° –û—Å—Ç–æ—Ä–æ–∂–Ω–æ (<30%) | üî¥ –ú–∞–ª–æ (<10%)
   ```

   **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –±—é–¥–∂–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞.
   –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–∏–º–∏—Ç–æ–≤ Claude Pro –ø–ª–∞–Ω–∞ ‚Üí Settings –≤ claude.ai

   **–í–ê–ñ–ù–û:** –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –±–æ–ª—å—à–∏—Ö –∑–∞–¥–∞—á –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
   ```
   ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å—Ç–∞—Ç–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ Claude Pro

   1. –û—Ç–∫—Ä–æ–π—Ç–µ claude.ai ‚Üí Settings ‚Üí Usage
   2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ "X messages remaining"
   3. –ï—Å–ª–∏ –æ—Å—Ç–∞–ª–æ—Å—å –º–∞–ª–æ (<50) - –ª—É—á—à–µ –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞

   –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ –±–æ–ª—å—à–æ–π –∑–∞–¥–∞—á–∏.
   ```

   **–ë–æ–ª—å—à–∏–µ –∑–∞–¥–∞—á–∏ (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤):**
   - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π + cleanup –∫–æ–¥–∞
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
   - –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
   - –õ—é–±–∞—è –∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–π–º–µ—Ç >30 –º–∏–Ω—É—Ç

2. **–û–±—ä—è—Å–Ω—è—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º bash –∫–æ–º–∞–Ω–¥ –æ–±—ä—è—Å–Ω—è—Ç—å —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –¥–µ–ª–∞–µ—Ç
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —á—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ –∏ –ø–æ—á–µ–º—É
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

3. **–ë—ã—Ç—å —è–≤–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º:**
   - –ù–µ –¥–µ–ª–∞—Ç—å –º–æ–ª—á–∞–ª–∏–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö
   - –û–±—ä—è—Å–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

4. **–§–æ—Ä–º–∞—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–π:**
   ```
   # –ß—Ç–æ –¥–µ–ª–∞—é: [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ]
   # –ü–æ—á–µ–º—É: [–ø—Ä–∏—á–∏–Ω–∞/–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ]
   # –ö–æ–º–∞–Ω–¥–∞: <bash –∫–æ–º–∞–Ω–¥–∞>
   # –†–µ–∑—É–ª—å—Ç–∞—Ç: [—á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å]
   ```

**–ü—Ä–∏–º–µ—Ä:**
```
# –ß—Ç–æ –¥–µ–ª–∞—é: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é —Ñ–∞–π–ª index.tsx –≤ AddPlantPage.tsx
# –ü–æ—á–µ–º—É: –î–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç ComponentName.tsx)
# –ö–æ–º–∞–Ω–¥–∞: mv webapp/src/pages/AddPlantPage/index.tsx webapp/src/pages/AddPlantPage/AddPlantPage.tsx
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –§–∞–π–ª –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω, —Ç–µ–ø–µ—Ä—å –≤ —Ç–∞–±–∞—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ "AddPlantPage.tsx" –≤–º–µ—Å—Ç–æ "index.tsx"
```

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:**
   - –ü—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –ª–∏–º–∏—Ç—É —Ç–æ–∫–µ–Ω–æ–≤ (<30%) - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å
   - –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É –∏ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
   - –ò–∑–±–µ–≥–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ –º–∞–ª–æ–º –æ—Å—Ç–∞—Ç–∫–µ —Ç–æ–∫–µ–Ω–æ–≤
